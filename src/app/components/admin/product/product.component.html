 <!-- <h3 class="mt-4 text-center">Product List</h3>
<div class="text-center mb-4">

</div>

<div class="container">
  <div class="row justify-content-center ">
  <div class="col-md-12">
    <div class=" d-flex align-items-center justify-content-end mb-3">
    <button class="btn btn-primary" (click)="navigateToModal()" mdbRipple>
      <i class="fas fa-plus" style="margin-left: 0;"></i> Add Product
    </button>
  </div>
  <table class="table table-hover table-striped align-middle responsive-table" >
  <thead class="table-primary">
    <tr>
      <th style="width: 10%;">Photo</th>
      <th scope="col" style="width: 20%;">Name</th>
      <th scope="col" style="width: 15%;">Price</th>
      <th scope="col" style="width: 15%;">Status</th>
      <th scope="col" style="width: 20%;">Discount</th>
      <th scope="col" style="width: 20%;">Actions</th>
    </tr>
  </thead>
        <tbody>
          <tr *ngFor="let product of products">
            <td>
              <img
              [src]="getImageUrl(product.imagePath)"
              alt="{{ product.name }}"
              style="width: 45px; height: 45px"
              class="rounded-circle border"
            />


            </td>
            <td>{{ product.name }}</td>
            <td>{{ product.price }} kyat</td>
            <td>{{ product.status ? 'Active' : 'Inactive' }}</td>
            <td>
              <span *ngIf="!isEditing(product.id, 'discount')">{{ product.discount }}%</span>
              <input *ngIf="isEditing(product.id, 'discount')"
              [(ngModel)]="editableProduct.discount"
              type="text"
              class="form-control form-control-sm"
              style="width: 50px; display: inline-block;" />
              <button class="btn btn-link ms-0" (click)="toggleEditDiscount(product.id)" [disabled]="isSaving">
                <i *ngIf="!isEditing(product.id, 'discount')" class="fas fa-edit text-warning"></i>
                <i *ngIf="isEditing(product.id, 'discount')" (click)="closeEdit()" class="fas fa-times text-danger me-1 fs-6"></i>
                <i *ngIf="isEditing(product.id, 'discount')" class="fas fa-check text-success fs-6"></i>
              </button>

            </td>
            <td>
              <button (click)="navigateToProductDetail(product.id)" class="btn btn-info btn-sm">
                <i class="fas fa-info-circle"></i>
              </button>
              <button
              *ngIf="!hasCoupon(product.id); else existCoupon"
              [disabled]="product.discount<=0"
              class="btn btn-warning rounded ms-1 btn-sm"
              mdbRipple
              mdbTooltip="Add new Coupon "
              placement="right"
              (click)="openModal(product.id)" mdbRipple>
               <i class="fas fa-plus"></i>
              </button>
              <ng-template #existCoupon>
                <button
                class="btn btn-primary rounded ms-1 btn-sm"
                mdbRipple
                mdbTooltip="Sell All Coupon"
                placement="right"
                mdbRipple>
                 <i class="fas fa-info"></i>
                </button>

              </ng-template>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>  -->


<div class="d-flex justify-content-between align-items-center mb-6">
  <!-- Add Product Button -->
  <button class="btn btn-primary d-flex align-items-center" (click)="navigateToModal()" mdbRipple>
    <i class="fas fa-plus mr-2"></i> Add Product
  </button>
  
  <!-- Import Excel Button -->
  <button class="btn btn-success d-flex align-items-center" (click)="openExcelImportModal()">
    <i class="fa-solid fa-file-excel mr-2"></i> Import Excel
  </button>
</div>


<ag-grid-angular
  style="width: 100%; height: 500px;"
  class="ag-theme-alpine"
  [rowData]="products"
  [columnDefs]="columnDefs"
  [gridOptions]="gridOptions"
  (gridReady)="onGridReady($event)"
  (gridSizeChanged)="onGridSizeChanged($event)"
>
</ag-grid-angular>

